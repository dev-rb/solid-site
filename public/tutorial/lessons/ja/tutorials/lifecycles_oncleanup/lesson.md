フレームワークの中には、クリーンアップメソッドを副作用やライフサイクルメソッドの戻り値として組み合わせているものもあります。Solid のレンダーツリー内のすべてのものは、（おそらく不活性な）Effect の中に存在し、ネストできるので、`onCleanup` をファーストクラスのメソッドにしました。任意のスコープでこのメソッドを呼び出すことができ、そのスコープが再評価のトリガーを受けたときや、最終的に廃棄されたときに実行されます。

コンポーネントや Effect の中で使用してください。また、カスタムディレクティブにも使用できます。リアクティブシステムの同期実行の一部となるものであれば、どこでも使用できます。

はじめに紹介した Signal の例では、自分自身の後始末をしませんでした。`setInterval` の呼び出しを次のように置き換えて修正しましょう:

```js
const timer = setInterval(() => setCount(count() + 1), 1000);
onCleanup(() => clearInterval(timer));
```
